## 1. Изучить механизм интеропа между языками, попробовать у себя вызывать C/C++ (Не C++/CLI) код (суммы чисел достаточно) из Java и C#. В отчёте описать логику работы, сложности и ограничения этих механизмов.
### Java
Чтобы запустить интероп из java, нам необходимо воспользоваться JNI (Java Native Interface), который предназначен для использования методов других языков в java.
```java
package InteropJNI;

public class JNI
{
    static {
        System.loadLibrary("DllCppSum");
    }
    public native int Summary(int a, int b);
}
```
Далее его компилируем в JNI.class
Теперь обработаем его командой
```
javac -h -cp . InteropJNI\JNI
```
Эта утилита создаст нам файл InteropJNI_JNI.h для нашей программы.
```
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class InteropJNI_JNI */

#ifndef _Included_InteropJNI_JNI
#define _Included_InteropJNI_JNI
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     InteropJNI_JNI
 * Method:    Summary
 * Signature: (II)I
 */
JNIEXPORT jint JNICALL Java_InteropJNI_JNI_Summary
  (JNIEnv *, jobject, jint, jint);

#ifdef __cplusplus
}
#endif
#endif
```
Далее подключаем .h в файл DllCppSum проект. И подключаем его к файлу InteropJNI_JNI.cpp
```cpp
#include "InteropJNI_JNI.h"

JNIEXPORT jint JNICALL Java_InteropJNI_JNI_Summary(JNIEnv* jenv, jobject jobj, int a, int b)
{
	return a + b;
}
```
Билдим его и получаем .dll файл, который успешно отправляется в ...\user\.jdks\openjdk-17.0.2\bin \
После чего можно работать в java с плюсовым кодом.
### C#
Для C# всё намного проще: мы также создаём Dll проект, но достаточно будет просто добавить вконце main.cpp такой код:
```cpp
#include <stdio.h>
extern "C"
{
  int __declspec(dllexport) CppSum (int first, int second)
  {
    return a + b;
  }
}
```
И билдим его. Далее полученный .dll добавляем в проект шарпов и вызываем любой метод при помощи такой инструкции:
```cs
[DllImport("TestLib.dll", CallingConvention = CallingConvention.Cdecl)]
```
### Сложности интеропа:
Много лишних дополнительных действий (генерация .h и .dll) \
Необходимость переименовывания оригинальных методов на интеропящемся языке. \
При небольшом изменении используемого кода необходимо заново перегенирировывать .dll файл
